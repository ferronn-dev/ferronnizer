<Ui>
  <Frame name='FerronnizerRoot' parent='UIParent' setAllPoints='true'>
    <Frames>
      <Button parentKey='PlayerFrame' inherits='SecureUnitButtonTemplate'>
        <Attributes>
          <Attribute name='unit' value='player' />
        </Attributes>
        <Size x='160' y='40' />
        <Anchors>
          <Anchor point='CENTER' x='-200' y='-100' />
        </Anchors>
        <Frames>
          <StatusBar parentKey='PlayerHealth'>
            <Anchors>
              <Anchor point='TOPLEFT' />
            </Anchors>
            <Size x='160' y='20' />
            <BarTexture file='Interface\TargetingFrame\UI-StatusBar' />
            <BarColor r='0' g='1' b='0' />
            <Layers>
              <Layer>
                <Texture parentKey='Background' setAllPoints='true'>
                  <Color a='0.5' />
                </Texture>
                <FontString parentKey='Text' inherits='GameNormalNumberFont' justifyH='CENTER' setAllPoints='true' />
              </Layer>
            </Layers>
            <Scripts>
              <OnLoad>
                self:RegisterEvent('PLAYER_LOGIN')
                self:RegisterUnitEvent('UNIT_HEALTH', 'player')
                self:RegisterUnitEvent('UNIT_MAXHEALTH', 'player')
              </OnLoad>
              <OnEvent>
                local value, max = UnitHealth('player'), UnitHealthMax('player')
                self:SetMinMaxValues(0, max)
                self:SetValue(value)
                self.Text:SetText(value .. ' / ' .. max)
              </OnEvent>
            </Scripts>
          </StatusBar>
          <StatusBar parentKey='PlayerPower'>
            <Anchors>
              <Anchor point='TOPLEFT' x='0' y='-20' />
            </Anchors>
            <Size x='160' y='20' />
            <BarTexture file='Interface\TargetingFrame\UI-StatusBar' />
            <BarColor r='0' g='0' b='1' />
            <Layers>
              <Layer>
                <Texture parentKey='Background' setAllPoints='true'>
                  <Color a='0.5' />
                </Texture>
                <FontString parentKey='Text' inherits='GameNormalNumberFont' justifyH='CENTER' setAllPoints='true' />
              </Layer>
            </Layers>
            <Scripts>
              <OnLoad>
                self:RegisterEvent('PLAYER_LOGIN')
                self:RegisterUnitEvent('UNIT_POWER_UPDATE', 'player')
              </OnLoad>
              <OnEvent>
                local value, max = UnitPower('player'), UnitPowerMax('player')
                self:SetMinMaxValues(0, max)
                self:SetValue(value)
                self.Text:SetText(value .. ' / ' .. max)
              </OnEvent>
            </Scripts>
          </StatusBar>
        </Frames>
      </Button>
    </Frames>
  </Frame>
</Ui>
